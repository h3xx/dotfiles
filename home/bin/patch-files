#!/usr/bin/perl
# vi: et sts=4 sw=4 ts=4
use strict;
use warnings;

our $VERSION = '0.2';

use Getopt::Std qw/ getopts /;

sub HELP_MESSAGE {
    use File::Basename qw/ basename /;
    my ($fh, $name) = (shift, &basename($0));
    print $fh <<EOF
Usage: $name [FILES]
Give the bare list of files inside of a unified diff.

Copyright (C) 2012-2022 Dan Church.
License GPLv3: GNU GPL version 3.0 (https://www.gnu.org/licenses/gpl-3.0.html)
with Commons Clause 1.0 (https://commonsclause.com/).
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
You may NOT use this software for commercial purposes.
EOF
    ;

    exit 0;
}

&getopts('', \ my %opts);

# prints the list of affected files for unified diffs

#my @files = map {/^\+\+\+ ([^\t]+)/} grep {/^\+\+\+/} <>;

my @files = map {chomp;/^\+\+\+ ([^\t]+)/} <>;

print join ("\n", @files), "\n";
