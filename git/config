# vi: ft=gitconfig ts=8 sts=8 sw=8 noet

[advice]
	# Turn off n00b mode
	# Still useful: amWorkDir, implicitIdentity
	commitBeforeMerge = false
	detachedHead = false
	pushUpdateRejected = false
	resolveConflict = false
	statusHints = false
	waitingForEditor = false

[alias]
	a		= add
	b		= branch
	bb		= branch --all -vv
	bbc		= branch --all -vv --contains
	bc		= branch --contains
	c		= commit
	ca		= commit --amend
	co		= checkout
	cob		= checkout -b
	cp		= cherry-pick
	cpa		= cherry-pick --abort
	cpc		= cherry-pick --continue
	d		= diff
	f		= fetch
	fa		= fetch --all
	fp		= format-patch
	g		= grep
	gr		= grep --recurse-submodules
	h		= help
	i		= bisect
	ib		= bisect bad
	ig		= bisect good
	ir		= bisect reset
	is		= bisect start # b[i]sect
	logg		= log --graph --pretty=format:'%C(bold 232 154)%h%C(reset) %C(bold 165 235)%cd%C(reset) %C(bold 39 235)%an%C(reset)%C(bold 121 235)%d%C(reset) %s' --date=short
	m		= merge
	ma		= merge --abort
	mb		= merge-base --octopus
	mff		= merge --ff
	mt		= mergetool
	p		= push
	pu		= "!echo use git u;exit 1"
	r		= reset
	ra		= remote add
	rb		= rebase
	rba		= rebase --abort
	rbc		= rebase --continue
	rc		= commit -c HEAD --date=now --reset-author
	rh		= reset --hard
	rr		= remote remove
	rs		= reset --soft
	rv		= revert
	rva		= revert --abort
	rvc		= revert --continue
	s		= status
	sf		= submodule foreach
	show-unmerged	= show-branch --topo-order --topics --sha1-name
	sub		= submodule
	subco		= submodule foreach git checkout
	subinit		= submodule init
	submaster	= submodule foreach git checkout master
	subpull		= !~/.config/git/bin/git-subpull.sh
	subup		= submodule update --init
	u		= pull
	url		= remote -v # list checkout urls
	w		= whatchanged

	# tattle = tell our remote about branch (or delete it with :branch)
	# usefulness: TODO
	tattle		= "!echo use git t;exit 1"
	t		= push --set-upstream origin
	# use this to blow away all untracked files and unstaged changes
	nuke		= !git clean -x -d -f && git co --force
	fsck-fix	= reflog expire --stale-fix --expire-unreachable=now --all --rewrite

[color]
	branch = auto
	diff = auto
	interactive = auto
	pager = true
	ui = auto

[commit]
	# automatically gpg-sign all commits
	# (aliasing commit=commit -S does not work)
	gpgSign = yes

[core]
	attributesfile = ~/.config/git/gitattributes_global
	excludesfile = ~/.config/git/gitignore_global
	# -R: Handle colors correctly
	pager = less -R

[diff]
	# more logical hunk breaks (I hope)
	algorithm = patience
	# only report on submodule pointer states, not working tree state
	ignoreSubmodules = dirty
	# show differences in submodules in terms of log entries
	submodule = log

[diff "php"]
	# Fix to give method or class name in php diff
	xfuncname = "^[\t ]*(((((public|protected|private|static)[\t ]+)*function)|class).*)$"

[diff "sqlite3"]
	# Compare SQLite databases via their dump:
	# Add `*.db diff=sqlite3' to .gitattributes to use
	textconv = ~/.config/git/bin/sqlite3-dump

[fetch]
	# automatically prune remotely-deleted branches
	prune = true
	# Bad design on git's part: recurse-on-fetch can cause a fetch to fail if
	# the submodules is in a detatched HEAD state.
	recurseSubmodules = false

[github]
	user = h3xx

[grep]
	lineNumber = true

[include]
	path = ./git-colors-neonwolf/git-colors-neonwolf-256.gitconfig

[log]
	decorate = true

[merge]
	# merges should only be explicit merges, regardless of whether they're ff merges
	ff = false
	tool = vimdiff

[pager]
	# disable paged branch listings
	branch = no
	# a better diff view
	diff = diff-highlight | less -R
	log = diff-highlight | less -R
	show = diff-highlight | less -R

[pull]
	# avoid merge bubbles: do not ask to merge when a pull isn't a ff
	# note: if rejected, either use pull -r OR rebase origin/$branch and retry
	ff = only

[push]
	default = simple

[status]
	ignoreSubmodules = dirty

[url "git@github.com:"]
	# enables shortcuts like `git clone gh:h3xx/dotfiles.git`
	insteadOf = gh:

[user]
	email = amphetamachine@gmail.com
	name = Dan Church
	signingKey = CD2CDBD0
